# РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ

### Факультет физико-математических и естественных наук Кафедра прикладной информатики и теории вероятностей

<br/>
<br/>
<br/>
<br/>

ОТЧЕТ
ПО ЛАБОРАТОРНОЙ РАБОТЕ №12
===============

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
дисциплина:  Операционные системы 

Студент: Койфман Кирилл Дмитриевич

Группа: НПИбд-01-21

<br/>
<br/>
<br/>
<br/>

## Введение.
___

## Цель работы.
Изучить основы программирования в оболочке ОС UNIX. Научиться писать более
сложные командные файлы с использованием логических управляющих конструкций
и циклов.

## Задачи.

1. Написать командный файл, реализующий упрощённый механизм семафоров. Командный файл должен в течение некоторого времени t1 дожидаться освобождения
ресурса, выдавая об этом сообщение, а дождавшись его освобождения, использовать
его в течение некоторого времени t2<>t1, также выдавая информацию о том, что
ресурс используется соответствующим командным файлом (процессом). Запустить
командный файл в одном виртуальном терминале в фоновом режиме, перенаправив
его вывод в другой (> /dev/tty#, где # — номер терминала куда перенаправляется
вывод), в котором также запущен этот файл, но не фоновом, а в привилегированном
режиме. Доработать программу так, чтобы имелась возможность взаимодействия трёх
и более процессов.

2. Реализовать команду man с помощью командного файла. Изучить содержимое каталога /usr/share/man/man1. В нем находятся архивы текстовых файлов, содержащих
справку по большинству установленных в системе программ и команд. Каждый архив
можно открыть командой less сразу же просмотрев содержимое справки. Командный
файл должен получать в виде аргумента командной строки название команды и в виде
результата выдавать справку об этой команде или сообщение об отсутствии справки,
если соответствующего файла нет в каталоге man1.

3. Используя встроенную переменную $RANDOM, напишите командный файл, генерирующий случайную последовательность букв латинского алфавита. Учесть, что $RANDOM
выдаёт псевдослучайные числа в диапазоне от 0 до 32767.

## Ход работы.
## 2 задание.
Реализуем команду man с помощью командного файла. Изучим содержимое каталога /usr/share/man/man1. В нем находятся архивы текстовых файлов, содержащих
справку по большинству установленных в системе программ и команд. Каждый архив
можно открыть командой less сразу же просмотрев содержимое справки. Командный
файл должен получать в виде аргумента командной строки название команды и в виде
результата выдавать справку об этой команде или сообщение об отсутствии справки,
если соответствующего файла нет в каталоге man1(рис.1,2,3,4,5,6)

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%20%D0%BE%D1%82%202022-05-28%2023-08-45.png)
:--:
*рис.1(изучим содержимое каталога /usr/share/man/man1)*

<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/2-1.png)
:--:
*рис.2(код командного файла)*

<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/2-2.png)
:--:
*рис.3(выполнение командного файла(тестируем прототип команды man))*


<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/2-3.png)
:--:
*рис.4(выполнение командного файла в сочетании с командой man(мы вывели справку по команде man))*

<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/2-4.png)
:--:
*рис.5(выполнение командного файла в сочетании с командой ls(мы вывели справку по команде ls))*

<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/2-5.png)
:--:
*рис.6(выполнение командного файла в сочетании с командой cat(мы вывели справку по команде cat))*

## 3 задание.
Используем встроенную переменную $RANDOM, напишем командный файл, генерирующий случайную последовательность букв латинского алфавита. Учесть, что $RANDOM
выдаёт псевдослучайные числа в диапазоне от 0 до 32767(рис.7,8)

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/3-1.png)
:--:
*рис.5(код командного файла)*

<br/>
<br/>
<br/>

![pic](https://raw.githubusercontent.com/KirillKoifman/study_2021-2022_os-intro/master/LABS/LAB-12/Screenshots/3-2.png)
:--:
*рис.6(выполнение командного файла)*

## Вывод.
В ходе выполнения лабораторной работы мной были усвоены основные навыки
программирования в оболочке ОС UNIX, а также написания комплексных
командных файлов с использованием логических управляющих конструкций
и циклов.

## Контрольные вопросы.
1. Найдите синтаксическую ошибку в следующей строке:
```
while [$1 != "exit"]
```
Нет пробелов до ] и после [. 
2. Как объединить (конкатенация) несколько строк в одну?
Нужно использовать оператор + в сочетании со строковым типом данных.
3. Найдите информацию об утилите seq. Какими иными способами можно реализовать её функционал при программировании на bash?
Команда seq предназначена для вывода определённой последовательности целых чисел. 
4. Какой результат даст вычисление выражения $((10/3))?
Результат - 3, так как происходит целочисленное деление без остатка.
5. Укажите кратко основные отличия командной оболочки zsh от bash.

6. Проверьте, верен ли синтаксис данной конструкции
```
for ((a=1; a <= LIMIT; a++))
```
Да, всё верно
7. Сравните язык bash с какими-либо языками программирования. Какие преимущества у bash по сравнению с ними? Какие недостатки? 

